2017-07-05 19:54:08,911 DEBUG Commandline arguments: Namespace(hp='config', hp_metric='accuracy', importance=False, model=None, oob=False, predict=<open file 'test_multiclass_pre.csv', mode 'r' at 0x111155b70>, score=True, test_size=0.1, train=<open file 'train_multiclass_pre.csv', mode 'r' at 0x111155ae0>)
2017-07-05 19:54:08,911 DEBUG Valid mode of operation
2017-07-05 19:54:08,911 INFO Mode score->train->predict
2017-07-05 19:54:08,911 DEBUG Loading data...
2017-07-05 19:54:09,993 INFO Created training set (41028) and test set (4559)
2017-07-05 19:54:09,993 INFO Recognised data-set: multi-class
2017-07-05 19:54:09,995 INFO Using the pre-selected model (hyper-parameters)...
2017-07-05 19:54:09,997 INFO Evaluating the selected model on the test set...
2017-07-05 19:54:09,997 DEBUG Generating feature vector...
Vector union has 7439093 features.
2017-07-05 19:59:09,804 INFO Generated vector of 3 features in 0:04:59.778162 from 45587 samples.
2017-07-05 19:59:34,919 DEBUG Fitted 41028 data points.
2017-07-05 19:59:34,919 DEBUG Fitting done in 0:05:24.921477
2017-07-05 19:59:34,919 DEBUG Generating feature vector...
Vector union has 7439093 features.
2017-07-05 20:03:27,612 INFO Generated vector of 3 features in 0:03:52.692925 from 45587 samples.
Evaluation report:
/usr/local/lib/python2.7/site-packages/sklearn/metrics/classification.py:1113: UndefinedMetricWarning: Precision and F-score are ill-defined and being set to 0.0 in labels with no predicted samples.
  'precision', 'predicted', average, warn_for)
                                                     precision    recall  f1-score   support

                                    Animal Diseases       0.00      0.00      0.00        41
                   Bacterial Infections and Mycoses       0.32      0.31      0.31       206
                            Cardiovascular Diseases       0.52      0.66      0.58       482
                          Digestive System Diseases       0.00      0.00      0.00       240
                  Disorders of Environmental Origin       0.47      0.18      0.26       231
                                 Endocrine Diseases       0.00      0.00      0.00        68
                                       Eye Diseases       0.90      0.11      0.20        79
Female Genital Diseases and Pregnancy Complications       0.37      0.35      0.36       131
                       Hemic and Lymphatic Diseases       0.00      0.00      0.00       102
                               Immunologic Diseases       0.42      0.31      0.35       249
                           Musculoskeletal Diseases       0.00      0.00      0.00       136
                Neonatal Diseases and Abnormalities       0.00      0.00      0.00        87
                                          Neoplasms       0.46      0.62      0.53       507
                            Nervous System Diseases       0.00      0.00      0.00       314
                 Nutritional and Metabolic Diseases       0.44      0.32      0.37       152
                      Otorhinolaryngologic Diseases       0.00      0.00      0.00        57
                                 Parasitic Diseases       0.60      0.26      0.37        34
        Pathological Conditions, Signs and Symptoms       0.20      0.63      0.31       770
                         Respiratory Tract Diseases       0.00      0.00      0.00       206
                Skin and Connective Tissue Diseases       0.00      0.00      0.00       129
                            Stomatognathic Diseases       0.00      0.00      0.00        44
                 Urologic and Male Genital Diseases       0.44      0.21      0.29       201
                                     Virus Diseases       0.19      0.09      0.12        93

                                        avg / total       0.27      0.32      0.26      4559

Accuracy: 0.321123053301
2017-07-05 20:03:29,991 DEBUG Evaluation done in 0:00:02.330940
2017-07-05 20:03:30,224 INFO Building the selected model on the whole data set...
Hyper parameters:
{'clf__bootstrap': True,
 'clf__class_weight': None,
 'clf__criterion': 'gini',
 'clf__max_depth': 10,
 'clf__max_features': 'log2',
 'clf__max_leaf_nodes': None,
 'clf__min_impurity_split': 1e-05,
 'clf__min_samples_leaf': 1,
 'clf__min_samples_split': 2,
 'clf__min_weight_fraction_leaf': 0.0,
 'clf__n_estimators': 1200,
 'clf__n_jobs': -1,
 'clf__oob_score': False,
 'clf__random_state': <mtrand.RandomState object at 0x115ba4820>,
 'clf__verbose': 0,
 'clf__warm_start': False,
 'select__k': 500,
 'select__score_func': <function chi2 at 0x10fad6320>}
2017-07-05 20:03:30,227 DEBUG Generating feature vector...
Vector union has 7851654 features.
2017-07-05 20:12:41,420 INFO Generated vector of 7851654 features in 0:09:11.181489 from 45587 samples.
2017-07-05 20:13:08,934 DEBUG Fitted 45587 data points.
2017-07-05 20:13:08,934 DEBUG Fitting done in 0:00:27.497079
Model saved as model_2017-07-05--20-03-30.pkl
2017-07-05 20:18:35,792 DEBUG Loading data...
2017-07-05 20:18:36,151 INFO Predicting 11397 data points...
2017-07-05 20:18:36,151 DEBUG Generating feature vector...
Vector union has 7851654 features.
2017-07-05 20:23:12,071 INFO Generated vector of 7851654 features in 0:04:35.919356 from 11397 samples.
2017-07-05 20:23:15,594 DEBUG Prediction done in 0:00:03.523162
Prediction saved as prediction_2017-07-05--20-18-36.csv
